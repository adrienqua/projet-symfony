{% extends 'base.html.twig' %}

{% block title %}Profil de l'utilisateur
{% endblock %}

{% block content %}
	<section class="container mx-auto mb-8 max-w-xl">
		<a href="{{ path('app_user_profile') }}" class="w-full text-sm py-2 px-3 border transition-all duration-300 border-gray-400 text-gray-400 hover:text-gray-800 font-medium rounded-2xl hover:bg-gray-300 focus:ring-2 focus:ring-gray-200 focus:ring-offset-2 dark:border-gray-200 dark:text-gray-200 dark:hover:bg-gray-300 dark:focus:ring-gray-100 dark:hover:text-gray-800">Retour au profil</a>
		<h1 class="mt-8 mb-4 text-2xl font-bold">Conversation avec
			{{recipient.username}}</h1>
		{% for message in conversation.messages %}
			{% include 'ui/message_card.html.twig' %}
		{% else %}
			<div class="mb-4 text-center rounded-3xl shadow-md bg-white p-4 dark:bg-gray-700">
				<p>Aucun message pour le moment.</p>
			</div>
		{% endfor %}
		{% if app.user %}
			<div class="mt-8">
				{{ form_start(form) }}
				{{ form_widget(form) }}
				<button class=" py-2 px-4 border transition-all duration-300 border-fuchsia-400 text-fuchsia-400 hover:text-gray-800 font-medium rounded-2xl hover:bg-fuchsia-300 focus:ring-2 focus:ring-fuchsia-200 focus:ring-offset-2 dark:border-fuchsia-200 dark:text-fuchsia-200 dark:hover:bg-fuchsia-300 dark:focus:ring-fuchsia-100 dark:hover:text-gray-800">{{ button_label|default('Envoyer un message') }}</button>
				{{ form_end(form) }}
			</div>
		{% else %}
			<p class="mt-8">Vous devez être connecté pour envoyer un message</p>
		{% endif %}
	</section>

{% endblock %}
